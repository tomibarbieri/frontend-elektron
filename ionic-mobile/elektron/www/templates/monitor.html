<ion-view view-title="Elektron" hide-back-button="true">

    <ion-content>
      <div class="card">
        <div class="list">
              <div class="row item-divider item item-icon-right">
                <div class="col col-50 title-components"><b>Monitor de componentes</b></div>
                <i ng-if="websocketplay == true" ng-click="pauseWebsocket()" class="icon ion-pause positive icon-letter play-pause-icon"></i>
                <i ng-if="websocketplay == false" ng-click="playWebsocket()" class="icon ion-play positive icon-letter play-pause-icon"></i>

                <i ng-if="websocketStatus == true" ng-click="refreshConnection()" class="icon icon-letter ion-refresh balanced"></i>
                <i ng-if="websocketStatus == false" ng-click="refreshConnection()" class="icon icon-letter ion-refresh assertive"></i>
              </div>
        </div>
      </div>
      <div ng-show="spinner == true" class="center-spinner">
        <ion-spinner icon="android"></ion-spinner>
      </div>
      <div class="card" ng-repeat="component in components_server" ng-show="{{ component.devicestate.name == 'on' && component.enabled==true}}">
          <div class="item item-divider item-icon-right">
            Componente: <b>{{component.label}}</b>
            <i ng-if="line[component.device_mac].status == true" class="icon ion-toggle-filled balanced"></i>
            <i ng-if="line[component.device_mac].status == false" class="icon ion-toggle assertive"></i>
          </div>
          <div class="item item-text-wrap">
            <canvas id="component.device_mac" class="chart chart-line" chart-data="line[component.device_mac].data" chart-labels="line[component.device_mac].labels"
            chart-series="line[component.device_mac].series"></canvas>
          </div>
      </div>
    </ion-content>
</ion-view>
