<ion-view view-title="Nueva tarea por fecha y hora">
  <ion-content >
    <div class="card">
        <div class="item item-divider">
            <span>Nombre y descripción</span>
        </div>
        <label class="item item-input">
          <input ng-model="task.label" type="text" placeholder="Nombre">
        </label>
        <label class="item item-input">
          <input ng-model="task.description" type="text" placeholder="Descripción">
        </label>
        <div class="item item-divider">
            <span>Elegir componente</span>
        </div>
        <label class="item item-input item-select">
          <div class="input-label ">
            Componente
          </div>
          <select ng-model="task.device_mac" >
            <option ng-repeat="component in components_server" value="{{component.device_mac}}">{{component.label}}</option>
          </select>
        </label>
        <label class="item item-input item-divider">
          <span class="input-label">Por fecha</span>
        </label>
        <div>
          <div class="item item-icon-left" ion-datetime-picker ng-model="task.date">
              <i class="icon ion-ios-calendar positive"></i>
              Fecha y hora
              <strong>{{task.date| date: "yyyy-MM-dd H:mm"}}</strong>
          </div>
          <div class="item item-divider">
              <span>Repeticiones</span>
          </div>
          <label class="item item-input item-select">
            <div class="input-label ">
              Criterio de repetición
            </div>
            <select ng-model="task.criteria">
              <option selected value="1" >Cada hora</option>
              <option value="0">Cada día</option>
            </select>
          </label>
          <label class="item item-input">
            <div class="input-label">
              Repeticiones
            </div>
            <input ng-model="task.repeats" class="repeticiones-input" type="number" placeholder="1">
          </label>
          </div>
          <div class="item item-divider">
              <span>Accion a realizar</span>
          </div>
          <label class="item item-input item-select">
            <div class="input-label ">
              Accion
            </div>
            <select ng-model="task.function">
              <option selected value="1" >Apagar</option>
              <option value="2" >Encender</option>
            </select>
          </label>
          <label class="item item-input item-select">
            <div class="input-label ">
              Estado inicial
            </div>
            <select ng-model="task.state">
              <option selected value="1" >Lista</option>
              <option value="2">Finalizada</option>
            </select>
          </label>

        <div class="item">
          <div class="button-bar">
            <a ng-click="addDateTimeTask(task)" class="button button-positive icon ion-ios-bolt">
              Programar tarea
            </a>
          </div>
        </div>

    </div>

  </ion-content>
</ion-view>
